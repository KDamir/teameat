<ui:composition xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">
      <h:form id="sgForm">
      	<p:dataTable id="typeTable" 
                     var="meattype" 
                     value="#{meatTypeController.meatTypes}" 
                     paginator="true" 
                     rows="10"
                     paginatorTemplate="{RowsPerPageDropdown} {FirstPageLink} {PreviousPageLink} {CurrentPageReport} {NextPageLink} {LastPageLink}"
                     rowsPerPageTemplate="5,10,15" 
                     selectionMode="single" 
                     selection="#{meatTypeController.selectedMeatType}" 
                     lazy="true"
                     editable="true"
                     editMode="cell">

        	<p:column headerText="Id" sortBy="#{meattype.id}" filterBy="#{meattype.id}">
        	
            		<h:outputText value="#{meattype.id}" />
            	
        	</p:column>
        	<p:column headerText="Имя" sortBy="#{meattype.name}" filterBy="#{meattype.name}">
            	<p:cellEditor>	
            		<f:facet name="output"><h:outputText value="#{meattype.name}" /></f:facet>
            		<f:facet name="input">
            			<p:inputText value="#{meattype.name}" style="width:100%"/>
            		</f:facet>
            	</p:cellEditor>
        	</p:column>
         	<p:column headerText="Категория" sortBy="#{meattype.categoryId.id}" filterBy="#{meattype.categoryId.id}">
            	<p:cellEditor>	
            		<f:facet name="output"><h:outputText value="#{meattype.categoryId.id}" /></f:facet>
            		<f:facet name="input">
            			<p:inputText value="#{meattype.categoryId.id}" style="width:100%"/>
            		</f:facet>
        		</p:cellEditor>
        	</p:column>                                                                                         
        	<p:column headerText="Штрих-код" sortBy="#{meattype.barcode}" filterBy="#{meattype.barcode}">
            	<p:cellEditor>	
            		<f:facet name="output"><h:outputText value="#{meattype.barcode}" /></f:facet>
            		<f:facet name="input">
            			<p:inputText value="#{meattype.barcode}" style="width:100%"/>
            		</f:facet>
        		</p:cellEditor>
        	</p:column>
        	<p:column headerText="Цена" sortBy="#{meattype.price_std}" filterBy="#{meattype.price_std}">
            	<p:cellEditor>	
            		<f:facet name="output"><h:outputText value="#{meattype.price_std}" /></f:facet>
            		<f:facet name="input">
            			<p:inputText value="#{meattype.price_std}" style="width:100%"/>
            		</f:facet>
        		</p:cellEditor>
        	</p:column>
        	<p:column headerText="Вознагр." sortBy="#{meattype.reward}" filterBy="#{meattype.reward}">
            	<p:cellEditor>	
            		<f:facet name="output"><h:outputText value="#{meattype.reward}" /></f:facet>
            		<f:facet name="input">
            			<p:inputText value="#{meattype.reward}" style="width:100%"/>
            		</f:facet>
        		</p:cellEditor>
        	</p:column>
        	<p:column>
                 <p:commandButton 
                                     value="сохранить" 
                                     action="#{meatTypeController.onEdit(meattype)}"
                                     process="typeTable"
                  />
            </p:column>
        
    </p:dataTable>  
      </h:form>
</ui:composition>