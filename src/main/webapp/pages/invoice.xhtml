<ui:composition xmlns="http://www.w3.org/1999/xhtml"
             xmlns:h="http://xmlns.jcp.org/jsf/html"
             xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
             xmlns:p="http://primefaces.org/ui"
             xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:form id="invoiceForm">
        <p:panelGrid columns="3">
        
            <h:outputText value="Отправитель:"/>
            <p:inputText id="senderInput" value="#{invoiceController.invoice.sender}" style="height: 30px; width: 300px;"/>
            <p:commandButton value="Количество баллов клиента:" action="#{invoiceController.showTotalReward(invoiceController.invoice.receiverId)}"
                     update="totalClReward"/>
            
                        
            <h:outputText value="Получатель:"/>
            <p:autoComplete  value="#{invoiceController.invoice.receiverId}" 
                			   completeMethod="#{invoiceController.completeReceiver}"	
                               var="receiver" 
                               itemValue="#{receiver}" 
                               itemLabel="#{receiver.companyName}"
                               converter="ReceiverConverter" forceSelection="true" >                               
            </p:autoComplete>
            <h:outputText id = "totalClReward" value="#{invoiceController.totalClientRwd}"  styleClass="unchangeable"/>                     
                         
                                        
        </p:panelGrid>
        <br/>
        
        
        <br/>
        <ui:include src="/pages/meatPartTable.xhtml">
            <ui:param name="tableController" value="${invoiceController}"/>
            <ui:param name="formid" value="invoiceForm"/>
        </ui:include>
    </h:form>
</ui:composition>
